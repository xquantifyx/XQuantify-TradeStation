# XQuantify TradeStation - Environment Configuration
# Copy this file to .env and customize for your environment

# =============================================================================
# VNC ACCESS CONFIGURATION
# =============================================================================

# VNC Password (required for web and direct VNC access)
# This password protects access to the MT5 desktop interface
VNC_PASSWORD=mt5password

# =============================================================================
# MT5 AUTO-LOGIN CONFIGURATION (Optional)
# =============================================================================

# MT5 Login credentials for automatic login
# Leave empty for manual login via the interface
MT5_LOGIN=
MT5_PASSWORD=
MT5_SERVER=

# =============================================================================
# BROKER CONFIGURATION
# =============================================================================

# Broker identifier (used during build)
# Options: metaquotes, xm, ic_markets, fxpro, pepperstone, roboforex, exness, bybit
# Or use MT5_INSTALLER_URL for custom broker installer
BROKER=metaquotes

# Custom MT5 installer URL (optional)
# Use this to specify a direct download link to your broker's MT5 installer
# Example: MT5_INSTALLER_URL=https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/mt5setup.exe
MT5_INSTALLER_URL=

# =============================================================================
# SCALING CONFIGURATION
# =============================================================================

# Maximum number of MT5 instances allowed
# Each instance requires approximately 2GB RAM and 2 CPU cores
MAX_INSTANCES=10

# =============================================================================
# MONITORING & ALERTS
# =============================================================================

# Email for alert notifications (requires mail command configured)
ALERT_EMAIL=

# Webhook URL for notifications (Slack, Discord, etc.)
# Example: https://hooks.slack.com/services/YOUR/WEBHOOK/URL
WEBHOOK_URL=

# Alert thresholds (percentage)
CPU_THRESHOLD=80
MEMORY_THRESHOLD=80

# =============================================================================
# SSL/HTTPS CONFIGURATION
# =============================================================================

# Enable SSL/HTTPS (requires SSL certificates in nginx/ssl/)
# Set to "true" after generating certificates with: make ssl-self-signed
SSL_ENABLED=true

# Domain name for Let's Encrypt SSL (optional, for production)
# Leave empty if using IP address or self-signed certificate
SSL_DOMAIN=

# Email for Let's Encrypt certificate notifications
SSL_EMAIL=

# SSL certificate paths (relative to nginx container)
# For self-signed: /etc/nginx/ssl/cert.pem and /etc/nginx/ssl/privkey.pem
# For Let's Encrypt: /etc/letsencrypt/live/${SSL_DOMAIN}/fullchain.pem
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/privkey.pem

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Allowed IP addresses for access control (comma-separated)
# Leave empty to allow all IPs
# Example: ALLOWED_IPS=192.168.1.0/24,10.0.0.0/8
ALLOWED_IPS=

# HTTP Port (default: 8080)
# Use 80 for standard HTTP (requires root/sudo)
HTTP_PORT=8080

# HTTPS Port (default: 8443)
# Use 443 for standard HTTPS (requires root/sudo)
HTTPS_PORT=8443

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Compose project name (used for container naming)
COMPOSE_PROJECT_NAME=xquantify-tradestation

# Docker network subnet
NETWORK_SUBNET=172.20.0.0/16

# =============================================================================
# RESOURCE LIMITS
# =============================================================================

# Memory limit per MT5 instance (in GB)
MEMORY_LIMIT=2

# CPU limit per MT5 instance (number of cores)
CPU_LIMIT=2

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (debug, info, warning, error)
LOG_LEVEL=info

# Log retention days
LOG_RETENTION_DAYS=30

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup directory (relative or absolute path)
BACKUP_DIR=./backups

# Backup retention (number of backups to keep)
BACKUP_RETENTION=7

# Automatic backup schedule (cron format, empty to disable)
# Example: 0 2 * * * (daily at 2 AM)
BACKUP_SCHEDULE=

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================

# Wine debugging (0=disabled, 1-9=debug levels)
WINEDEBUG=-all

# Display number for Xvfb
DISPLAY=:1

# VNC display resolution
VNC_RESOLUTION=1920x1080

# VNC color depth (16 or 24)
VNC_DEPTH=24

# Timezone (for container)
TZ=UTC
